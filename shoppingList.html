<!DOCTYPE html>
<html>
	<head>
		<title>Products</title>
		<meta charset="utf-8">

		<style>

			body {
				width: 60em;
				margin: 0 auto;
			}

			form {
				display: flex;
				justify-content: space-between;
				background-color: darkgreen;
				color: white;
				padding: 1em;
				margin-top: 1em;
			}

			table {
				background-color: skyblue;
				width: 100%;
				margin-top: 1em;
			}

			th,
			td {
				padding: 1em;
				text-align: center;
			}

			th:first-child,
			td:first-child {
				text-align: left;
			}

			footer {
				margin: 1em 0;
			}
		</style>


	</head>

	<body>
		<h2>My Shopping List</h2>
		<form action="#" onsubmit="addProduct();return false">
			<label>Item: <input type="text" name="item"></label>
			<label>Quantity: <input type="text" name="quantity"></label>
			<input type="submit" value="Add">
		</form>

		<table id="products">
			<tr>
				<th>Item</th>
				<th>Quantity</th>
				<th>Remove?</th>
			</tr>
		</table>

		<script>
        var total =0
        function addProduct() {

            var productTable = document.getElementById("products")
            var name = document.getElementsByName("item")[0].value
            var quantity = document.getElementsByName("quantity")[0].value
			
            //Create rows and columns
            var newRow = document.createElement("tr")
            newRow.innerHTML = "<td>" + name + "</td><td><input value='" + quantity + "' readonly></td><td><input type='button' value='Remove' onclick='removeProduct(this)'></td>"
            productTable.appendChild(newRow)
            total = Number(total) + Number(quantity)
            document.getElementById("total").innerHTML =total            

        }

        function removeProduct(index) {
            
            var i = index.parentNode.parentNode.rowIndex;
            total -= document.getElementById("products").rows[i].getElementsByTagName("input")[0].getAttributeNode("value").value
            document.getElementById("products").deleteRow(i);
            document.getElementById("total").innerHTML = total
        }
    </script>

		<footer>
			Total: <span id="total">0</span>
		</footer>

	</body>
</html>
